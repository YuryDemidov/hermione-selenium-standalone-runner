"use strict";var _interopRequireDefault=require("@babel/runtime-corejs3/helpers/interopRequireDefault");var _promise=_interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/promise"));var _regenerator=_interopRequireDefault(require("@babel/runtime-corejs3/regenerator"));var _asyncToGenerator2=_interopRequireDefault(require("@babel/runtime-corejs3/helpers/asyncToGenerator"));var fs=require("fs");var delay=require("delay");var _require=require("child_process"),spawn=_require.spawn;module.exports=function(hermione){var selenium;hermione.on(hermione.events.RUNNER_START,/*#__PURE__*/(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(){var file;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:file=fs.openSync("selenium-log","w");selenium=spawn("selenium-standalone",["start"],{stdio:["ignore",file,file]});_context.next=4;return delay(2000);case 4:case"end":return _context.stop();}}},_callee)})));hermione.on(hermione.events.RUNNER_END,function(){return new _promise["default"](function(resolve){selenium.on("exit",function(){return resolve()});selenium.kill()})})};